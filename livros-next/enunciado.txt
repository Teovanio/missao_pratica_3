üëâ 3¬∫ Procedimento | Cria√ß√£o do Aplicativo com Next JS

Crie o aplicativo e configure o ambiente:
    a) Executar o comando npx create-next-app livros-next  --typescript ‚úì
a
    b) Entrar no diret√≥rio do projeto criado, executando cd livros-next ‚úì

    c) Abrir o Visual Studio Code, executando code .\ ‚úì

    d) No ambiente de edi√ß√£o, criar um diret√≥rio (folder) com o nome classes, e copiar
os diret√≥rios modelo e controle, do projeto livros-react, com seus respectivos
arquivos Type Script, para dentro do novo diret√≥rio ‚úì

    e) Criar o diret√≥rio componentes, e dentro dele adicionar os arquivos para
componentes auxiliares, com os nomes "LinhaLivro.tsx" e "Menu.tsx" ‚úì

    f) No diret√≥rio pages/api, criar os diret√≥rios com os nomes editoras e livros ‚úì

    g) No diret√≥rio editoras, criar os arquivos "[codEditora].ts" e "index.ts" ‚úì

    h) No diret√≥rio livros, criar os arquivos "[codigo].ts" e "index.ts" ‚úì

A estrutura do projeto dever√° ficar como o exemplo abaixo:
Implemente a API de gerenciamento de editoras via HTTP:
    a) Codificar o arquivo index.ts, no diret√≥rio pages/api/editoras, iniciando com a ‚úì
defini√ß√£o de uma inst√¢ncia export√°vel de ControleEditora, com o nome
controleEditora

   b) Definir a assinatura para tratamento das solicita√ß√µes, cujo formato deve ser ‚úì
export default (req: NextApiRequest, res: NextApiResponse) => { }

    c) Implementar o tratamento de requisi√ß√µes, respondendo no m√©todo GET com ‚úì
status 200 e o vetor de editoras, obtido via m√©todo getEditoras, de controleEditoras, ‚úì
no formato JSON

    d) Tratar os status 405, para m√©todo n√£o permitido, e 500, para exce√ß√£o ocorrida no ‚úì
servidor

    e) Codificar o arquivo [codEditora].ts, no diret√≥rio pages/api/editoras 

    f) Importar o controlador de editoras instanciado em index.ts, utilizando o comando ‚úì
import {controleEditora} from '.'

    g) Definir a assinatura para tratamento das solicita√ß√µes, cujo formato deve ser ‚úì
export default (req: NextApiRequest, res: NextApiResponse) => { }

    h) 
        Implementar o tratamento de requisi√ß√µes,
         respondendo no m√©todo GET com status 200 
         e um objeto JSON com o nome da editora, obtido atrav√©s de
getNomeEditora, tendo como par√¢metro codEditora, fornecido na URL de acesso e  ‚úì
recuperado via req.query, convertido para number

    i) Tratar os status 405, para m√©todo n√£o permitido, e 500, para exce√ß√£o ocorrida no
servidor  ‚úì

Teste a nova API
    a) Iniciar a execu√ß√£o do aplicativo atrav√©s do comando npm run dev  ‚úì

    b) Abrir o endere√ßo http://localhost:3000/api/editoras no navegador ‚úì

    c) Abrir o endere√ßo http://localhost:3000/api/editoras/3 no navegador ‚úì

Os resultados obtidos devem ser os que s√£o apresentados a seguir:
Implemente a API de gerenciamento de editoras via HTTP:
    a) Codificar o arquivo index.ts, no diret√≥rio pages/api/livros, iniciando com a ‚úì
defini√ß√£o de uma inst√¢ncia export√°vel de ControleLivro, utilizando o nome
controleLivro ‚úì

    b) Definir a assinatura para tratamento das solicita√ß√µes, cujo formato deve ser ‚úì
export default (req: NextApiRequest, res: NextApiResponse) => { } ‚úì

    c) Implementar o tratamento de requisi√ß√µes, respondendo no m√©todo GET com ‚úì
status 200 e o vetor de livros, obtido via m√©todo obterLivros, de controleLivro, no ‚úì
formato JSON 

    d) Responder ao m√©todo POST com a captura dos dados do livro, fornecido no corpo
da requisi√ß√£o, no formato JSON, a partir de req.body, inclus√£o no vetor de livros via
m√©todo incluir, de controleLivros, e retorno para o chamador com status 200 e
mensagem de sucesso no formato JSON ‚úì

    e) Tratar os status 405, para m√©todo n√£o permitido, e 500, para exce√ß√£o ocorrida no
servidor ‚úì

    f) Codificar o arquivo [codigo].ts, no diret√≥rio pages/api/livros  ‚úì

    g) Importar o controlador de livros instanciado em index.ts, utilizando o comando
import {controleLivro} from '.'  ‚úì

    h) Definir a assinatura para tratamento das solicita√ß√µes, cujo formato deve ser
export default (req: NextApiRequest, res: NextApiResponse) => { } ‚úì

    i) Implementar o tratamento de requisi√ß√µes, respondendo ao DELETE com a captura
do c√≥digo fornecido na URL, via req.query, exclus√£o do livro no vetor, via m√©todo
excluir de controleLivro, e retorno ao chamador com status 200 e mensagem de
sucesso no formato JSON  ‚úì

    j) Tratar os status 405, para m√©todo n√£o permitido, e 500, para exce√ß√£o ocorrida no
servidor  ‚úì

Teste a nova API, efetuando uma consulta no navegador a partir do endere√ßo http://
localhost:3000/api/livros, onde deve ser retornado o vetor de livros no formato
JSON, e opcionalmente testar os demais m√©todos (POST e DELETE) via Postman,
Boomerang, ou outra ferramenta para envio de requisi√ß√µes ‚úì
Habilite o Bootstrap no aplicativo Next JS:
    a) Parar o aplicativo livros-next, caso esteja em execu√ß√£o, e executar o comando
npm install bootstrap ‚úì

    b) Alterar o conte√∫do de _app.tsx para o que √© apresentado a seguir, com a
importa√ß√£o da folha de estilo do Bootstrap, deixando-a dispon√≠vel para todos os
componentes ‚úì

Implemente o componente LinhaLivro, no arquivo LinhaLivro.tsx:
    a) Iniciar com a defini√ß√£o de uma inst√¢ncia de ControleEditora, com o nome
controleEditora, utilizado internamente para diminuir a quantidade de chamadas
ass√≠ncronas, j√° que os dados de editoras n√£o s√£o din√¢micos ‚úì

    b) Definir a interface LinhaLivroProps, com o atributo livro, do tipo Livro, e m√©todo
excluir(), do tipo void ‚úì

    c) Definir o componente export√°vel LinhaLivro, com par√¢metro props, para a
recep√ß√£o dos atributos livro e excluir, a partir do seletor, utilizando export const
LinhaLivro: React.FC<LinhaLivroProps> = (props) => { } ‚úì

    d) Copiar o corpo da fun√ß√£o LinhaLivro, encontrada no arquivo LivroLista.js, do
projeto livros-react, para o corpo da nova fun√ß√£o, o que se justifica pelo fato de que
apenas a assinatura √© modificada para uso no Next JS ‚úì

Crie o arquivo LivroLista.tsx, no diret√≥rio pages, com o conte√∫do seguinte: ‚úì
Crie o arquivo LivroDados.tsx, no diret√≥rio pages, com o conte√∫do seguinte: ‚úì
Implemente o componente Menu.tsx, de acordo com as instru√ß√µes seguintes:
    a) Definir o componente com export const Menu: React.FC = () => { } ‚úì

    b) Retornar o menu de navega√ß√£o, com tag nav, formatado pelo BootStrap ‚úì

    c) Utilizar elementos do tipo Link, da biblioteca next/link ‚úì

    d) Atrav√©s do atributo href, de Link, fornecer acesso para as p√°ginas index,
LivroLista e LivroDados, como op√ß√µes do menu de navega√ß√£o ‚úì

Altere o componente Home, no arquivo index.tsx:
    a) No retorno, manter a div inicial, com classe CSS container ‚úì

    b) No componente Head, alterar title para "Loja Next" ‚úì

    c) Acrescentar um componente Menu ap√≥s Head ‚úì

    d) Ap√≥s o menu, definir a √°rea principal (main), com estilo styles.main, e dentro
dela criar um t√≠tulo h1, com estilo styles.title e texto P√°gina Inicial ‚úì

    e) Apagar todo o restante da p√°gina original ‚úì

Ajuste as caracter√≠sticas para obter uma p√°gina como o exemplo abaixo:
Implemente o componente LivroLista, no arquivo LivroLista.tsx:
    a) Importar os estilos com import styles from '../styles/Home.module.css' ‚úì

    b) Definir uma constante com o nome baseURL, do tipo texto, utilizando o valor ‚úì
"http://localhost:3000/api/livros"

    c) Criar a fun√ß√£o obter, ass√≠ncrona, no estilo arrow function, com a chamada para ‚úì
baseURL, via fetch, e retorno da resposta no formato JSON

    d) Criar a fun√ß√£o excluirLivro, ass√≠ncrona, no estilo arrow function, tendo o ‚úì
par√¢metro codigo, num√©rico, com a chamada para baseURL/codigo via fetch, no
modo DELETE, e retorno do campo ok da resposta, indicando sucesso ou falha ‚úì

    e) Em LivroLista, definir as propriedades livros, do tipo Array<Livro>, e carregado, ‚úì
booleana, atrav√©s de useState ‚úì

    f) Utilizar o Hook useEffect, que deve efetuar a chamada para obterLivros,
ass√≠ncrona, alimentando a propriedade de estado livros no retorno, via operador then,
e alterar carregado para true, tendo ainda como balizador o atributo carregado ‚úì

    g) Acrescentar o m√©todo excluir, estilo arrow function, 
    que deve receber o c√≥digo do
livro, invocar a fun√ß√£o excluir, ass√≠ncrona, e no retorno setar o valor de carregado
como false, para for√ßar o redesenho da p√°gina ‚úì

    h) No retorno do componente deve ser fornecida uma div, formatada com
styles.container, e dentro dela um componente Head, equivalente ao que foi utilizado
na p√°gina Home, um componente Menu,
 e a √°rea main, contendo o t√≠tulo da p√°gina e
uma tabela para exibi√ß√£o dos livros ‚úì

    i) Utilizar o m√©todo map, de livros, 
    para a gera√ß√£o das linhas de dados como
componentes do tipo LinhaLivro, tendo como par√¢metros o livro ‚úì
 atual do vetor, excluir 
invocando o m√©todo excluir de Livro ‚úì

Lista, 
com a passagem do c√≥digo do livro corrente,
e key associado ao c√≥digo do livro ‚úì

Implemente o componente LivroDados, no arquivo LivroDados.tsx
    a) Importar os estilos com import styles from '../styles/Home.module.css' ‚úì

    b) Definir um objeto do tipo ControleEditora, com o nome controleEditora ‚úì

    c) Definir uma constante com o nome baseURL, do tipo texto, utilizando o valor ‚úì
"http://localhost:3000/api/livros" 

    d) Criar a fun√ß√£o incluirLivro, ass√≠ncrona, no estilo arrow function, tendo o
par√¢metro livro, do tipo Livro, com a chamada para baseURL via fetch, no modo
POST, incluindo o tipo de conte√∫do como informa√ß√£o do header e o livro no body,
convertido com JSON.stringfy. O retorno da fun√ß√£o ser√° o campo ok da resposta,
indicando sucesso ou falha  ‚úì

    e) Em LivroDados, definir o vetor opcoes, invocando o m√©todo getEditoras, com o
mapeamento de codEditora para value e nome para text ‚úì

    f) Definir as propriedades titulo, resumo e autores, todas de texto, atrav√©s de
useState, al√©m de codEditora, iniciada com a posi√ß√£o zero de opcoes ‚úì

    g) Acrescentar o atributo navigate, recebendo o Hook useNavigate ‚úì

    h) Definir o m√©todo tratarCombo, tendo como par√¢metro o evento, do tipo
React.ChageEvent<HTMLSelectElement>, onde deve ocorrer a chamada para
setCodEditora, passando value, da lista, convertido para number  ‚úì

    i) Definir o m√©todo incluir, apresentando como par√¢metro um evento do tipo
React.FormEvent<HTMLFormElement>, que primeiro deve eliminar o
comportamento padr√£o com preventDefault, em seguida instanciar um livro com
c√≥digo valendo zero, o valor das propriedades de estado, e autores separados por linha
(split), invocar a fun√ß√£o incluir, ass√≠ncrona, e, no retorno dela, navegar para a p√°gina
LivroLista, atrav√©s do sistema de navega√ß√£o do Next JS, com a chamada para
Router.push  ‚úì

    j) No retorno do componente deve ser fornecida uma div, formatada com
styles.container, e dentro dela um componente Head, equivalente ao que foi utilizado
na p√°gina Home, um componente Menu, e a √°rea main, contendo o t√≠tulo da p√°gina e o
formul√°rio para inclus√£o do livro  ‚úì

    k) Implementar o formul√°rio referente aos campos utilizados para definir as
propriedades de estado, com liga√ß√£o atrav√©s de value e onChange ‚úì

    l) Utilizar uma lista de sele√ß√£o (combo) para as editoras, com as op√ß√µes geradas
pelo m√©todo map, de opcoes, e associando onChange ao m√©todo tratarCombo ‚úì

    m) Relacionar o evento onSubmit, do formul√°rio, ao m√©todo incluir, al√©m de
adicionar um bot√£o de submiss√£o ao final ‚úì

A execu√ß√£o do projeto dever√° fornecer as mesmas funcionalidades de livro-react,
bem como apar√™ncia muito similar, mas agora com o gerenciamento da base de livros
a partir da API interna, acessada de forma ass√≠ncrona, via fetch;
Verifique os resultados obtidos atrav√©s de um navegador.
Resultados esperados da pr√°tica

√â importante que o c√≥digo seja organizado;
Explore as funcionalidades do Visual Studio Code para facilitar o desenvolvimento da
pr√°tica;
Nessa miss√£o, √© esperado que voc√™ demonstre habilidades para cria√ß√£o de front-end
baseado em Next JS, com a defini√ß√£o de API HTTP internas.
Observa√ß√£o

Os arquivos Type Script de classes/modelo e classes/controle, copiados do projeto
livros-react, foram reaproveitados na √≠ntegra, sem qualquer mudan√ßa.

Entrega da pr√°tica

Chegou a hora, gamer!

Siga as etapas abaixo para realizar a entrega desta miss√£o: